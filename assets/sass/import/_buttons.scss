// 	----------------------------------------- 
//	Buttons â€” A base, mixin and options
// 	-----------------------------------------
.button_base {
	font: 900 12px/1 $sans;
	border: 1px solid;
	@include user-select(none);
	@extend .padding;
	@include transition(none);
	@include inline-block;
	@include background-clip(padding-box);
	@include box-shadow(inset 0 1px 0 fade-out($white, 0.75), 0 1px 3px fade-out($black, 0.8)); }

@mixin button($main_colour: $default, $text_colour: $default_text, $text_shadow: $default_text_shadow, $radius: 3px, $subtle: false, $size: "normal", $icon: false) {
	
	@if $subtle == false {
		@include background(linear-gradient(top, lighten($main_colour, 10%), $main_colour));
		@include box-shadow(inset 0 1px 0 fade-out($white, 0.7), 0 1px 3px fade-out($black, 0.9));
		border-color: darken(desaturate($main_colour, 20%), 10%);
		color: lighten($text_colour, 20%);
		text-shadow: 0 1px 1px $text_shadow;
	}
	@else {
		background: none;
		background: fade-out($black, 0.99);
		color: $default_text;
		border: none;
		text-shadow: none;
		border: 1px solid fade-out($black, 0.95);
		@include box-shadow(none);
		&:hover, &:focus {
			text-shadow: 0 1px 1px $text_shadow; }
	}
	@if $size == "big" {
		padding: $base_px $base_px*2;
	}
	@elseif $size == "small" {
		padding: $base_px/3 $base_px/2;
	}
	@include border-radius($radius);
	&:hover, &:focus {
		color: $text_colour;
		border-color: darken($main_colour, 15%);
		@extend .no_outline;
		@include background(linear-gradient(top, lighten($main_colour, 15%), lighten($main_colour, 5%)));
		@include box-shadow(inset 0 1px 0 fade-out($white, 0.55), 0 1px 3px fade-out($black, 0.8)); }
	&:active {
		border-color: darken($main_colour, 25%);
		@include background(linear-gradient(darken($main_colour, 10%) 50%, darken($main_colour, 1%)));
		@include box-shadow(inset 0 1px 3px fade-out($black, 0.8), 0 1px 1px fade-out($white, 0.8));
	}
	@if $icon != false {
		&:before {
			content: $icon;
			margin: 0 $base_px/2 0 0; }
	}
	&.disabled {
		@include background(linear-gradient(desaturate($main_colour, 20%), desaturate($main_colour, 20%)));
		@include box-shadow(none);
		border-color: desaturate(darken($main_colour, 10%), 40%);
		color: darken($text_colour, 10%);
		color: fade-out($text_colour, 0.2);
		text-shadow: none;
		cursor: arrow;
		&:hover, &:focus, &:active {
			@include background(linear-gradient(desaturate($main_colour, 20%), desaturate($main_colour, 20%)));
			@include box-shadow(none);
			@extend .no_outline;
			border-color: desaturate(darken($main_colour, 10%), 40%);
			color: darken($text_colour, 10%);
			color: fade-out($text_colour, 0.2);
			text-shadow: none;
			cursor: arrow; }
	}
}

.button {
	margin: 0 0 $line;
	@extend .button_base;
	@extend .input_reset;
	@include button($radius: 30px); }
.subtle {
	@extend .button_base;
	@extend .input_reset;
	@include button($main_colour: $success, $text_colour: #fff, $text_shadow: darken($success, 20%), $radius: 3px, $subtle: true); }
.alt {
	@extend .button;
	@include button($alt, #fff, darken($alt, 20%)); }
.danger {
	@extend .button;
	@include button($danger, #fff, darken($danger, 20%), $icon: "!!"); }
.warning {
	@extend .button;
	@include button($warning, #fff, darken($warning, 20%)); }
.success {
	@extend .button;
	@include button($success, #fff, darken($success, 20%)); }
.info {
	@extend .button;
	@include button($info, #fff, darken($info, 10%)); }
.button_group {
	@include pie-clearfix;
	button, a	{
		@include border-radius(0);
		margin-left: -1px;
		float: left;
		&:first-child, &:first-of-type { 
			@include border-radius(5px 0 0 5px);
			margin-left: 0; }
		&:last-child, &:last-of-type {
			@include border-radius(0 5px 5px 0); }
	}
}