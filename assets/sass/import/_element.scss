//	----------------------------------------- 
//	Element â€” A base, mixin and options
//	Style anything consistently
//	Works well for anything else you'd like to style similar apart from buttons/forms
//	-----------------------------------------

@mixin element-base {
	@include background-clip;
	@include transition(none);
	@include appearance(none);
	@include user-select(none);
	position: relative;
	font-family: $sans; }
	
%element-base {
	@include element-base; }
	
@function element-size($size: 3) {
	@return (.75 * ($size / 6)) + em (1.5 * ($size / 3)) + em; }

@mixin element-shading($main-color: $alt, $state: normal) {
	
	@if $state == hover { $main-color: scale-lightness($main-color, 15%); }
	@else if $state == active { $main-color: scale-lightness($main-color, -10%); }
	
	$light-color: scale-lightness($main-color, if-bright($main-color, 25%, 15%));
	$dark-color: scale-lightness($main-color, if-bright($main-color, -15%, -20%));
	$shadow-color: scale-lightness($dark-color, if-bright($dark-color, -10%, -15%));
	
	@if $state == hover {
		@include background(linear-gradient($main-color 10%, $dark-color 70%), $main-color);
		@include box-shadow(
			inset 0 0 0 1px $shadow-color,
			inset 0 2px 0 $light-color,
			inset 0 -1px 3px $dark-color,
			inset -1px -3px 12px -3px rgba($shadow-color, .2),
			inset 1px -3px 12px -3px rgba($shadow-color, .2),
			0 1px 3px rgba($black, .2));
		text-shadow: 0 1px 1px rgba($shadow-color, .6); }
	@else if $state == active {
		@include background(linear-gradient($main-color 10%, $dark-color 70%), $main-color);
		@include box-shadow(
			inset 0 0 0 1px $shadow-color,
			inset 0 1px 3px $dark-color,
			inset 0 -1px 3px $dark-color,
			inset -1px -3px 12px -3px rgba($shadow-color, .2),
			inset 1px -3px 12px -3px rgba($shadow-color, .2),
			0 1px 0 rgba($white, .2));
		text-shadow: 0 1px 1px rgba($shadow-color, .6); }
	@else {		
		@include background(linear-gradient($main-color 10%, $dark-color 70%), $main-color);
		@include box-shadow(
			inset 0 0 0 1px $shadow-color,
			inset 0 2px 0 $light-color,
			inset 0 -1px 3px $dark-color,
			inset -1px -3px 12px -3px rgba($shadow-color, .2),
			inset 1px -3px 12px -3px rgba($shadow-color, .2),
			0 1px 3px rgba($black, .2));
		text-shadow: 0 1px 1px rgba($shadow-color, .6); } }

@mixin element(
	$main-color: $alt,
	$text-color: $white,
	$radius: $radius, 
	$subtle: false, 
	$shadow: true, 
	$style: true, 
	$size: 3, 
	$hover: false,
	$font-size: false,
	$display: inline-block) {
	
	@extend %element-base;		
	padding: element-size($size);
	color: $text-color;
	display: $display;
	
	@if $radius != none OR $radius == false {
		@include border-radius($radius); }
	
	// you may just want a button without style 
	// as sometimes you may just want a nice start
	// padding, etc
	@if $style == true {
		// subtle start
		@if $subtle == true {
			@include box-shadow(inset 0 0 0 1px fade-out($subtle-color, 1));
			.no-boxshadow & {
				border: 1px solid transparent; } } // close $subtle true
		
		// non subtle start		
		@else {
			@if $shadow == true {
				@include element-shading($main-color, normal);
				// modernizr stuff
				.no-boxshadow & {
					border: 1px solid scale-lightness($main-color, -10%); }
				.no-cssgradients & {
					background: $main-color; } }
			@else {
				background: $main-color; } } // close else
				
		@if $hover == true {
			&:hover, &:focus {
				@if $shadow == true {
					@include element-shading($main-color, hover);
					// modernizr stuff
					.no-boxshadow & {
						border: 1px solid scale-lightness($main-color, 10%); }
					.no-cssgradients & {
						background: scale-lightness($main-color, 20%); } }
				@else {
					background: scale-lightness($main-color, 10%); } }
					
			&:active {
				@if $shadow == true {
					@include element-shading($main-color, active);
					// modernizr stuff
					.no-boxshadow & {
						border: 1px solid scale-lightness($main-color, -20%); }
					.no-cssgradients & {
						background: scale-lightness($main-color, -10%); } }
				@else {
					background: scale-lightness($main-color, -10%); } } } } // close $style
}