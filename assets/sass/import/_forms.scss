// 	----------------------------------------- 
//	Base form styles
// 	-----------------------------------------
%form-base {
	@extend %input-reset;
	border: none;
	font-family: $form;
	display: block;
	outline: none; }
%form-block {
	display: block;
	width: 100%; }

@mixin form-label($position: "left", $main-color: inherit, $font-weight: 700, $font-size: $base-font-size, $font-family: $sans) {
	
	line-height: $base-line-height;
	font: $font-weight #{$font-size}/#{$base-line-height} #{$font-family};
	color: $main-color;
	
	@if $position == "top" {
		@extend %form-block;
		margin: 0 0 .375em;
		& + input {
			@extend %form-block; } }
	@else {
		width: 33.333333333%;
		display: inline-block;
		& + input {
			margin-left: -4px;
			width: 66.666666667%;
			display: inline-block; } } }

/* # To do
 * - form label position?
 * - input type?
 * - status: error, success, disabled
 */
@mixin form(
	$main-color: #999,
	$radius: $radius, 
	$shadow: true, 
	$style: true, 
	$size: true,
	$set-height: false, 
	$hover: false, 
	$type: "input", 
	$status: "normal") {
	
	$type: unquote($type);
	$status: unquote($status);
	
	$form-light: scale-color($main-color, $saturation: 20%, $lightness: 30%);
	
	// styles which remain consistent no matter the input
	@extend %form-base;
	
	@if $radius != false {
		@include border-radius($radius); }
		
	@if $shadow == true {		
		@include box-shadow(
			inset 0 0 0 1px $main-color,
			inset 0 2px 2px rgba($main-color, .4),
			0 1px 1px rgba($white, .6));
		.no-boxshadow & {
			border: 1px solid $main-color; } }
	
	// if we want styles to be applied
	@if $style == true {
		@if $type == select {}
		@else if $type == input {
			@include background(linear-gradient(scale-color($white, $lightness: -5%), $white), $white);
			&:hover, &:focus {
				@include background(linear-gradient(scale-color($white, $lightness: -2.5%), $white), $white);
				@include box-shadow(
					inset 0 0 0 1px scale-color($main-color, $lightness: -20%),
					inset 0 2px 2px rgba($main-color, .6),
					0 1px 1px rgba($white, .6));
				outline: none; }
			.no-cssgradients & {
				background: $white; } }
		@else {
			@include element($main-color, $style: true, $size: "normal", $hover: true); } }
			
	@if $size == true {
		@if $set-height == false {
			padding: em($base-px, $base-font-size); }
		@else {
			padding: em(3px, $base-font-size) em($line, $base-font-size);
			height: em(30px, $base-font-size); } }
}