// Mixin setup
// ---------------------------
@include grid($grid-space, $grid-container-selector, $grid-gutter, $grid-max-width, $grid-direction);
@include placeholder;



// Mixin overrides
// ---------------------------
@mixin element-shading(
	$main-color: $alt,
	$state: normal,
	$text-color: false) {
	
	@if $state == hover or $state == active { 
		$main-color: if($state == hover, scale-lightness($main-color, 10%), $main-color); }
	
	$light-color: scale-lightness($main-color, if-bright($main-color, 25%, 15%));
	$dark-color: scale-lightness($main-color, if-bright($main-color, -15%, -25%));
	$shadow-color: scale-lightness($main-color, if-bright($main-color, -60%, -70%));
	
	// Aimed at yellows
	@if red($main-color) > green($main-color) and 
			green($main-color) > blue($main-color) and
			green($main-color) > 90 {
				
				$dark-color: scale-lightness(
					adjust-hue($main-color, -12deg), 
					if-bright($main-color, -5%, -15%));
					
				$shadow-color: scale-lightness($main-color, if-bright($main-color, -50%, -65%)); }
	
	// Aimed at blue/greens
	@if blue($main-color) > green($main-color) and blue($main-color) > red($main-color) or
			green($main-color) > red($main-color) and 
			green($main-color) > blue($main-color) {
			
				$dark-color: scale-lightness(
					adjust-hue($main-color, 20deg), 
						if-bright($main-color, -5%, -15%));
				
				$shadow-color: scale-lightness($main-color, if-bright($main-color, -55%, -65%)); }
	
	
	// Apply edits to the button style here
	// ---------------------------
	@include background(
		linear-gradient($main-color, $dark-color));	
	box-shadow:
		inset 0 -1px 1px rgba($shadow-color, .3),
		inset 0 0 0 1px rgba($shadow-color, .3),
		if($state == active,
			inset 0 1px 3px rgba($shadow-color, .6),
			inset 0 2px 0 rgba($light-color, .8)), 
		inset em($base-px) 0 em(18px) em(-$base-px) rgba($dark-color, .4),
		inset em(-$base-px) 0 em(18px) em(-$base-px) rgba($dark-color, .4),
		if($state == active, 
			0 1px 1px rgba($white, $default-light-shadow),
			0 1px 3px rgba($shadow-color, $default-dark-shadow));

	// modernizr stuff
	.no-boxshadow & {
		border: 1px solid $dark-color; }
	.no-cssgradients & {
		background: $main-color; } }