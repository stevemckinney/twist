@import "variables";

// Text
// ---------------------------
@mixin form-text(
	$color: $default-form-color,
	$focus-color: $default-form-focus-color,
	$background-color: $default-form-background-color,
	$shading: $default-form-shading) {
	
	@if $shading {
		@include form-shading(text, $color, normal);
		
		&:focus {
			@include form-shading(text, $focus-color, focus); } }
	
	@else {
		box-shadow: inset 0 0 0 1px $color;
		background: $background-color;
		
		&:focus {
			box-shadow: inset 0 0 0 1px $focus-color; } } }

// Select
// ---------------------------
@mixin form-select(
	$color: $default-form-color,
	$focus-color: $default-form-focus-color,
	$background-color: $default-form-background-color,
	$shading: $default-form-shading) {
	
	@if $shading {
		@include form-shading(select, $color, normal);
		
		&:focus {
			@include form-shading(select, $focus-color, focus); } }
	
	@else {
		box-shadow: inset 0 0 0 1px $color;
		background: $default-form-select-image $background-color;
		
		.no-svg & {
			background: $default-form-select-png; }
		
		&:focus {
			box-shadow: inset 0 0 0 1px $focus-color; } } }

// Checkbox
// ---------------------------
@mixin form-checkbox(
	$color: $default-form-color,
	$focus-color: $default-form-focus-color,
	$background-color: $default-form-background-color,
	$shading: $default-form-shading,
	$margin: $default-form-boolean-margin) {
	
	@include wh(em($base-font-size));
	position: relative;
	top: em($base-font-size / 6);
	margin: $margin;
	
	@if $shading {
		@include form-shading(checkbox, $color, normal); }
	
	@else {
		box-shadow: inset 0 0 0 1px $color;
		
		&:checked {
			background: $default-form-checkbox-image $background-color;
			background-size: $default-form-checkbox-background-size;
			
			.no-svg & {
				background: $default-form-checkbox-png; } } } }

// Radio
// ---------------------------
@mixin form-radio(
	$color: $default-form-color,
	$focus-color: $default-form-focus-color,
	$background-color: $default-form-background-color,
	$shading: $default-form-shading,
	$margin: $default-form-boolean-margin) {
	
	@include wh($default-form-radio-width, $default-form-radio-height);
	position: relative;
	top: em(2px);
	margin: $margin;
	
	@if $shading {
		@include form-shading(radio, $color, normal); }
		
	@else	{
		box-shadow: inset 0 0 0 1px $color;
		
		&:checked {
			box-shadow: inset 0 0 0 1px $color;
			
			@include background(
				radial-gradient(
					$color $default-form-radio-radial-gradient-color-stop,
					$background-color $default-form-radio-radial-gradient-color-stop), $background-color); } } }

// Search
// ---------------------------
@mixin form-search(
	$selector	: $default-form-search-selector,
	$position	: $default-form-search-position,
	$size			: $default-form-search-size,
	$icon 		: $default-form-search-image,
	$has-label: $default-form-search-has-label,
	$fallback	: $default-form-search-png
) {
	position: relative;
	
	@if $has-label {
		label {
			position: absolute;
			top: -9999px;
			left: -9999px; } }
	
	#{$selector} {
		@include hide-text(left);
		position: absolute;
		background: $icon;
		padding: element-size($size);
		top: 0;
		
		@if $position == right {
			right: 0; }
			
		@else if $position == left {
			left: 0; }
			
		@else {
			@warn "#{$position} isn't a valid position, must be left or right." }
		
		.no-svg & {
			background: $fallback; } } }

// Logically named alias for form-search
// ---------------------------
@mixin form-button(
	$selector	: $default-form-search-selector,
	$position	: $default-form-search-position,
	$size			: $default-form-search-size,
	$icon 		: $default-form-search-image,
	$has-label: $default-form-search-has-label,
	$fallback	: $default-form-search-png
) {
	@include form-search($selector, $position, $size, $icon, $has-label, $fallback); }