// Variables
// ---------------------------
$default-grid-columns: 12 !default;
$default-grid-gutter: 12px !default;
$default-grid-map: ( small: $a, medium: $b, large: $c ) !default;

//	<div class="grid grid-with-gutter">
//		<div class="grid-cell grid-4">
//		</div>
//		<div class="grid-cell grid-2">
//		</div>
//	</div>

// Grid container
// ---------------------------
@mixin grid-container($grid-gutter: $default-grid-gutter) {
	.grid {
		display: block;
		padding: 0;
		margin: 0;
		text-align: left;
		font-size: 0; }
	
	.grid-with-gutter {
		margin: 0 #{-$grid-gutter}; }
	
	.grid-center {
		text-align: center; }
	
	.grid-right {
		text-align: right; } }

// Grid cell
// ---------------------------
@mixin grid-cell($grid-gutter: $default-grid-gutter) {
	.grid-cell {
		display: inline-block;
		font-size: 1rem;
		margin: 0;
		padding: 0;
		text-align: left;
		vertical-align: top;
		width: 100%; }

	.grid-with-gutter > .grid-cell {
		padding: 0 $grid-gutter; } }


// Grid widths
// ---------------------------
@mixin grid-width(
	$grid-columns	: $default-grid-columns,
	$grid-map			: $default-grid-map
) {
	$column-increment: 1;
	
	@each $breakpoint, $width in $grid-map {
		$class: if($breakpoint == large, ".grid", ".grid-#{$breakpoint}");
	
		@include breakpoint($width) {
			@for $column-increment from 1 through $grid-columns {
				#{$class}-#{$column-increment} {
					$w: (100% / $grid-columns) * $column-increment;
					width: $w; } } } } }
		
// Simple grid using
// display: inline-block
// ---------------------------
@mixin grid(
	$grid-columns	: $default-grid-columns,
	$grid-gutter	: $default-grid-gutter,
	$grid-map			: $default-grid-map
) {
	
	@include grid-container($grid-gutter);
	@include grid-cell($grid-gutter);
	@include grid-width($grid-columns, $grid-map); }